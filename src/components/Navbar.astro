---
import ArrowRight from "@icons/arrow-right.svg";

const iconCount = 64;
const icons = Array.from({ length: iconCount });
const tickerSpeed = 40; // pixels per second
const tickerDistance = iconCount * (80 + 32); // icon width + gap
const tickerDuration = tickerDistance / tickerSpeed;

const title = "Brinkis";
---

<nav class="overflow-hidden flex flex-row space-x-8 items-center justify-center sm:justify-normal">
	<a href="/" class="hover:underline underline md:no-underline active:scale-95 transition-all"
		><h1 class="text-nowrap uppercase">{title}</h1></a
	>

	<div class="hidden sm:flex items-center flex-1 min-w-0" aria-hidden="true">
		<div class="ticker">
			<div
				class="ticker-track ticker-track-reverse"
				style={`--ticker-duration: ${tickerDuration}s; --ticker-gap: 2rem; --ticker-segment-width: ${tickerDistance}px;`}
			>
				<div class="ticker-segment">
					{icons.map(() => <ArrowRight class="arrow" aria-hidden="true" />)}
				</div>
				<div class="ticker-segment" aria-hidden="true">
					{icons.map(() => <ArrowRight class="arrow" aria-hidden="true" />)}
				</div>
			</div>
		</div>
	</div>
</nav>

<style>
	.arrow {
		@apply bg-secondary-light fill-text-light dark:bg-secondary-dark dark:fill-text-dark size-20;
	}
</style>
